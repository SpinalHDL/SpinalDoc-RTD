

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Coding conventions &mdash; SpinalHDL  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../../_static/default.js"></script>
        <script type="text/javascript" src="../../../_static/wavedrom.min.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Interaction" href="interaction.html" />
    <link rel="prev" title="Basics" href="basics.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> SpinalHDL
          

          
          </a>

          
            
            
              <div class="version">
                v1.3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../About SpinalHDL/index.html">About SpinalHDL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../About SpinalHDL/faq.html">FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../About SpinalHDL/support.html">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../About SpinalHDL/users.html">Users</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../motivation.html">Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../presentation.html">Presentation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Scala Guide</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="basics.html">Basics</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Coding conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="interaction.html">Interaction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Help for VHDL people/index.html">Help for VHDL people</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Help for VHDL people/vhdl_comp.html">VHDL comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Help for VHDL people/vhdl_perspective.html">VHDL equivalences</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Cheatsheets/index.html">Cheatsheets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Cheatsheets/core.html">Core</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheatsheets/lib.html">Lib</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheatsheets/symbolic.html">Symbolic</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Data types/index.html">Data types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Data types/bool.html">Bool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data types/bits.html">Bits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data types/Int.html">Unit/SInt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data types/enum.html">SpinalEnum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data types/bundle.html">Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data types/Vec.html">Vec</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data types/Fix.html">UFix/SFix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data types/Floating.html">Floating</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Structuring/index.html">Structuring</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/components_hierarchy.html">Component and hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/area.html">Area</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/function.html">Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/clock_domain.html">Clock domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/blackbox.html">Instantiate VHDL and Verilog IP</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Semantic/index.html">Semantic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Semantic/assignements.html">Assignments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Semantic/when_switch.html">When/Switch/Mux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Semantic/rules.html">Rules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Sequential logic/index.html">Sequential logic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Sequential logic/registers.html">Registers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Sequential logic/memory.html">RAM/ROM</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Design errors/index.html">Design errors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/assignment_overlap.html">Assignement overlap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/clock_crossing_violation.html">Clock crossing violation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/combinatorial_loop.html">Combinational loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/hierarchy_violation.html">Hierarchy violation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/iobundle.html">Io bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/latch_detected.html">Latch detected</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/no_driver_on.html">No driver on</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/nullpointerexception.html">NullPointerException</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/register_defined_as_component_input.html">Register defined as component input</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/scope_violation.html">Scope violation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/spinal_cant_clone.html">Spinal can’t clone class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/unassigned_register.html">Unassigned register</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/unreachable_is_statement.html">Unreachable is statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design errors/width_mismatch.html">Width mismatch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Other language features/index.html">Other language features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Other language features/utils.html">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Other language features/assertion.html">Assertions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Other language features/analog_inout.html">Analog and inout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Other language features/vhdl_generation.html">VHDL and Verilog generation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Libraries/index.html">Libraries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/utils.html">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/stream.html">Stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/flow.html">Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/fragment.html">Fragment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/fsm.html">State machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/vexriscv.html">VexRiscv (RV32IM CPU)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/bus_slave_factory.html">Bus Slave Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/Bus/index.html">Bus</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Bus/amba3/ahblite3.html">AHB-Lite3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Bus/amba3/apb3.html">Apb3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Bus/amba4/axi4.html">Axi4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Bus/avalon/avalonmm.html">AvalonMM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/Com/index.html">Com</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Com/uart.html">UART</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/IO/index.html">IO</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/IO/readableOpenDrain.html">ReadableOpenDrain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/IO/tristate.html">TriState</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/Graphics/index.html">Graphics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Graphics/colors.html">Colors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Graphics/vga.html">VGA</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/EDA/index.html">EDA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/EDA/altera/qsysify.html">QSysify</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Simulation/index.html">Simulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/install.html">Setup and installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/bootstraps.html">Boot a simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/signal.html">Accessing signals of the simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/clock.html">Clock domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/threadFull.html">Thread-full API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/threadLess.html">Thread-less API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/engine.html">Simulation engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/examples/index.html">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/asynchronous.html">Asynchronous adder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/dual_clock_fifo.html">Dual clock fifo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/single_clock_fifo.html">Single clock fifo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/synchronous.html">Synchronous adder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/uart_decoder.html">Uart decoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/uart_encoder.html">Uart encoder</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/index.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Examples/Simple ones/index.html">Simple ones</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple ones/apb3.html">APB3 definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple ones/carry_adder.html">Carry adder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple ones/color_summing.html">Color summing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple ones/counter_with_clear.html">Counter with clear</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple ones/introduction.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple ones/pll_resetctrl.html">PLL BlackBox and reset controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple ones/rgb_to_gray.html">RGB to gray</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple ones/sinus_rom.html">Sinus rom</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Examples/Intermediates ones/index.html">Intermediates ones</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Intermediates ones/fractal.html">Fractal calculator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Intermediates ones/uart.html">UART</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Intermediates ones/vga.html">VGA</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Examples/Advanced ones/index.html">Advanced ones</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Advanced ones/jtag.html">JTAG TAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Advanced ones/memory_mapped_uart.html">Memory mapped UART</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Advanced ones/pinesec.html">Pinesec</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Advanced ones/timer.html">Timer</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Legacy/index.html">Legacy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Legacy/riscv.html">RiscV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Legacy/pinsec/index.html">pinsec</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/pinsec/hardware.html">Hardware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/pinsec/hardware_toplevel.html">SoC toplevel (Pinsec)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/pinsec/introduction.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/pinsec/software.html">Software</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Developers area/index.html">Developers area</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Developers area/bus_slave_factory_impl.html">Bus Slave Factory Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Developers area/howtodocument.html">How to HACK this documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Developers area/types.html">Types</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">SpinalHDL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Getting Started</a> &raquo;</li>
        
          <li><a href="index.html">Scala Guide</a> &raquo;</li>
        
      <li>Coding conventions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/SpinalHDL/Getting Started/Scala Guide/coding_conventions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="coding-conventions">
<h1>Coding conventions<a class="headerlink" href="#coding-conventions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The coding conventions used in SpinalHDL are the same as the ones documented in the <a class="reference external" href="https://docs.scala-lang.org/style/">scala doc</a>.</p>
<p>Some additional practical details and cases are explained in next chapters.</p>
</div>
<div class="section" id="class-vs-case-class">
<h2>class vs case class<a class="headerlink" href="#class-vs-case-class" title="Permalink to this headline">¶</a></h2>
<p>When you define a <code class="docutils literal notranslate"><span class="pre">Bundle</span></code> or a <code class="docutils literal notranslate"><span class="pre">Component</span></code>, have a preference to declare them as case class.</p>
<p>The reasons are:</p>
<ul class="simple">
<li><p>It avoids the use of <code class="docutils literal notranslate"><span class="pre">new</span></code> keywords. Never having to use it is better than sometimes under some conditions.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">class</span></code> provides an <code class="docutils literal notranslate"><span class="pre">clone</span></code> function. This is useful in SpinalHDL where there is a need to clone one Bundle. For example, when you define a new <code class="docutils literal notranslate"><span class="pre">Reg</span></code> or a new <code class="docutils literal notranslate"><span class="pre">Stream</span></code> of some kind.</p></li>
<li><p>Construction parameters are directly visible from outside.</p></li>
</ul>
<div class="section" id="case-class">
<h3>[case] class<a class="headerlink" href="#case-class" title="Permalink to this headline">¶</a></h3>
<p>All classes names should start with a upper case letter</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Fifo</span> <span class="k">extends</span> <span class="nc">Component</span> <span class="o">{</span>

<span class="o">}</span>

<span class="k">class</span> <span class="nc">Counter</span> <span class="k">extends</span> <span class="nc">Area</span> <span class="o">{</span>

<span class="o">}</span>

<span class="k">case</span> <span class="k">class</span> <span class="nc">Color</span> <span class="k">extends</span> <span class="nc">Bundle</span> <span class="o">{</span>

<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="companion-object">
<h3>companion object<a class="headerlink" href="#companion-object" title="Permalink to this headline">¶</a></h3>
<p>A companion object should start with a upper case letter.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">object</span> <span class="nc">Fifo</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">apply</span><span class="o">(</span><span class="n">that</span><span class="k">:</span> <span class="kt">Stream</span><span class="o">[</span><span class="kt">Bits</span><span class="o">])</span><span class="k">:</span> <span class="kt">Stream</span><span class="o">[</span><span class="kt">Bits</span><span class="o">]</span> <span class="k">=</span> <span class="o">{...}</span>
<span class="o">}</span>

<span class="k">object</span> <span class="nc">MajorityVote</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">apply</span><span class="o">(</span><span class="n">that</span><span class="k">:</span> <span class="kt">Bits</span><span class="o">)</span><span class="k">:</span> <span class="kt">UInt</span> <span class="o">=</span> <span class="o">{...}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>An exception to this rule is when the companion object is used as a function (only <code class="docutils literal notranslate"><span class="pre">apply</span></code> inside), and these <code class="docutils literal notranslate"><span class="pre">apply</span></code> functions don’t generate hardware:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">object</span> <span class="nc">log2</span><span class="o">{</span>
  <span class="k">def</span> <span class="n">apply</span><span class="o">(</span><span class="n">value</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="o">{...}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="function">
<h3>function<a class="headerlink" href="#function" title="Permalink to this headline">¶</a></h3>
<p>A function should always start with a lower case letter:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="n">sinTable</span> <span class="k">=</span> <span class="o">(</span><span class="mi">0</span> <span class="n">until</span> <span class="n">sampleCount</span><span class="o">).</span><span class="n">map</span><span class="o">(</span><span class="n">sampleIndex</span> <span class="k">=&gt;</span> <span class="o">{</span>
  <span class="k">val</span> <span class="n">sinValue</span> <span class="k">=</span> <span class="nc">Math</span><span class="o">.</span><span class="n">sin</span><span class="o">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nc">Math</span><span class="o">.</span><span class="nc">PI</span> <span class="o">*</span> <span class="n">sampleIndex</span> <span class="o">/</span> <span class="n">sampleCount</span><span class="o">)</span>
  <span class="n">S</span><span class="o">((</span><span class="n">sinValue</span> <span class="o">*</span> <span class="o">((</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">resolutionWidth</span><span class="o">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)).</span><span class="n">toInt</span><span class="o">,</span> <span class="n">resolutionWidth</span> <span class="n">bits</span><span class="o">)</span>
<span class="o">})</span>

<span class="k">val</span> <span class="n">rom</span> <span class="k">=</span>  <span class="nc">Mem</span><span class="o">(</span><span class="nc">SInt</span><span class="o">(</span><span class="n">resolutionWidth</span> <span class="n">bit</span><span class="o">),</span><span class="n">initialContent</span> <span class="k">=</span> <span class="n">sinTable</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="instances">
<h3>instances<a class="headerlink" href="#instances" title="Permalink to this headline">¶</a></h3>
<p>Instances of classes should always start with a lower case letter:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">val</span> <span class="n">fifo</span>   <span class="k">=</span> <span class="k">new</span> <span class="nc">Fifo</span><span class="o">()</span>
<span class="k">val</span> <span class="n">buffer</span> <span class="k">=</span> <span class="nc">Reg</span><span class="o">(</span><span class="nc">Bits</span><span class="o">(</span><span class="mi">8</span> <span class="n">bits</span><span class="o">))</span>
</pre></div>
</div>
</div>
<div class="section" id="if-when">
<h3>if / when<a class="headerlink" href="#if-when" title="Permalink to this headline">¶</a></h3>
<p>Scala <code class="docutils literal notranslate"><span class="pre">if</span></code> and SpinalHDL <code class="docutils literal notranslate"><span class="pre">when</span></code> should normally be written in the following way:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="o">(</span><span class="n">cond</span><span class="o">){</span>
  <span class="o">...</span>
<span class="o">}</span> <span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">cond</span><span class="o">){</span>

<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>

<span class="o">}</span>

<span class="n">when</span><span class="o">(</span><span class="n">cond</span><span class="o">){</span>

<span class="o">}.</span><span class="n">elseWhen</span><span class="o">(</span><span class="n">cond</span><span class="o">){</span>

<span class="o">}.</span><span class="n">otherwise</span><span class="o">{</span>

<span class="o">}</span>
</pre></div>
</div>
<p>Exceptions could be:</p>
<ul class="simple">
<li><p>It’s fine to omit the dot before <code class="docutils literal notranslate"><span class="pre">otherwise</span></code>.</p></li>
<li><p>It’s fine to compress a whole <code class="docutils literal notranslate"><span class="pre">if</span></code>/<code class="docutils literal notranslate"><span class="pre">when</span></code> statements on a single line if it makes the code more readable.</p></li>
</ul>
</div>
<div class="section" id="switch">
<h3>switch<a class="headerlink" href="#switch" title="Permalink to this headline">¶</a></h3>
<p>SpinalHDL switch should normally be written in the following way:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">switch</span><span class="o">(</span><span class="n">value</span><span class="o">){</span>
  <span class="n">is</span><span class="o">(</span><span class="n">key</span><span class="o">){</span>

  <span class="o">}</span>
  <span class="n">is</span><span class="o">(</span><span class="n">key</span><span class="o">){</span>

  <span class="o">}</span>
  <span class="n">default</span><span class="o">{</span>

  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>It’s fine to compress a <code class="docutils literal notranslate"><span class="pre">is</span></code>/<code class="docutils literal notranslate"><span class="pre">default</span></code> statement on a single line if it makes the code more readable.</p>
</div>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<p>Grouping parameters of a component/bundle inside a case class is in general welcome:</p>
<ul class="simple">
<li><p>Easier to carry/manipulate to configure the design</p></li>
<li><p>Better maintainability</p></li>
</ul>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">case</span> <span class="k">class</span> <span class="nc">RgbConfig</span><span class="o">(</span><span class="n">rWidth</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">gWidth</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">bWidth</span><span class="k">:</span> <span class="kt">Int</span><span class="o">){</span>
  <span class="k">def</span> <span class="n">getWidth</span> <span class="k">=</span> <span class="n">rWidth</span> <span class="o">+</span> <span class="n">gWidth</span> <span class="o">+</span> <span class="n">bWidth</span>
<span class="o">}</span>

<span class="k">case</span> <span class="k">class</span> <span class="nc">Rgb</span><span class="o">(</span><span class="n">c</span><span class="k">:</span> <span class="kt">RgbConfig</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Bundle</span> <span class="o">{</span>
  <span class="k">val</span> <span class="n">r</span> <span class="k">=</span> <span class="nc">UInt</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="n">rWidth</span> <span class="n">bit</span><span class="o">)</span>
  <span class="k">val</span> <span class="n">g</span> <span class="k">=</span> <span class="nc">UInt</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="n">gWidth</span> <span class="n">bit</span><span class="o">)</span>
  <span class="k">val</span> <span class="n">b</span> <span class="k">=</span> <span class="nc">UInt</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="n">bWidth</span> <span class="n">bit</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
<p>But this should not be applied in all cases. For example: in a Fifo, it doesn’t make sense to group the dataType parameter with the depth of the fifo because, in general, the dataType is something related to the design, while the depth is something related to the configuration of the design.</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Fifo</span><span class="o">[</span><span class="kt">T</span> <span class="k">&lt;:</span> <span class="kt">Data</span><span class="o">](</span><span class="n">dataType</span><span class="k">:</span> <span class="kt">T</span><span class="o">,</span> <span class="n">depth</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Component</span> <span class="o">{</span>

<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="interaction.html" class="btn btn-neutral float-right" title="Interaction" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="basics.html" class="btn btn-neutral float-left" title="Basics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, SpinalHDL

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>