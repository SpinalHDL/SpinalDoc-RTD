

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>PLL BlackBox and reset controller &mdash; SpinalHDL  documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/logo3_32x32.png"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/skins/default.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/wavedrom.min.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="RGB to gray" href="rgb_to_gray.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> SpinalHDL
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../About%20SpinalHDL/index.html">About SpinalHDL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../About%20SpinalHDL/faq.html">FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../About%20SpinalHDL/support.html">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../About%20SpinalHDL/users.html">Users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Getting%20Started/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/motivation.html">Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/presentation.html">Presentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/index.html">Scala Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/basics.html">Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/coding_conventions.html">Coding conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/interaction.html">Interaction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/index.html">Help for VHDL people</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html">VHDL comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_perspective.html">VHDL equivalences</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/Cheatsheets/index.html">Cheatsheets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Cheatsheets/core.html">Core</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Cheatsheets/lib.html">Lib</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Cheatsheets/symbolic.html">Symbolic</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Data%20types/index.html">Data types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/bool.html">Bool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/bits.html">Bits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/Int.html">Unit/SInt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/enum.html">SpinalEnum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/bundle.html">Bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/Vec.html">Vec</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/Fix.html">UFix/SFix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/Floating.html">Floating</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Structuring/index.html">Structuring</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/components_hierarchy.html">Component and hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/area.html">Area</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/function.html">Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/clock_domain.html">Clock domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/blackbox.html">Instanciate VHDL and Verilog IP</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Semantic/index.html">Semantic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Semantic/assignements.html">Assignments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Semantic/when_switch.html">When/Switch/Mux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Semantic/sementic.html">Rules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Sequential%20logic/index.html">Sequential logic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Sequential%20logic/registers.html">Registers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Sequential%20logic/memory.html">RAM/ROM</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Design%20errors/index.html">Design errors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/assignment_overlap.html">Assignement overlap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/clock_crossing_violation.html">Clock crossing violation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/combinatorial_loop.html">Combinational loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/hierarchy_violation.html">Hierarchy violation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/iobundle.html">Io bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/latch_detected.html">Latch detected</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/no_driver_on.html">No driver on</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/nullpointerexception.html">NullPointerException</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/register_defined_as_component_input.html">Register defined as component input</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/scope_violation.html">Scope violation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/spinal_cant_clone.html">Spinal can’t clone class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/unassigned_register.html">Unassigned register</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/unreachable_is_statement.html">Unreachable is statement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/width_mismatch.html">Width mismatch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Other%20language%20features/index.html">Other language features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Other%20language%20features/utils.html">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Other%20language%20features/assertion.html">Assertions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Other%20language%20features/analog_inout.html">Analog and inout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Other%20language%20features/vhdl_generation.html">VHDL and Verilog generation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Libraries/index.html">Libraries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/utils.html">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/stream.html">Stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/flow.html">Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/fragment.html">Fragment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/fsm.html">State machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/vexriscv.html">VexRiscv (RV32IM CPU)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/bus_slave_factory.html">Bus Slave Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/Bus/index.html">Bus</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Bus/amba3/ahblite3.html">AHB-Lite3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Bus/amba3/apb3.html">Apb3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Bus/amba4/axi4.html">Axi4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Bus/avalon/avalonmm.html">AvalonMM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/Com/index.html">Com</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Com/uart.html">UART</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/IO/index.html">IO</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/IO/readableOpenDrain.html">ReadableOpenDrain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/IO/tristate.html">TriState</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/Graphics/index.html">Graphics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Graphics/colors.html">Colors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/Graphics/vga.html">VGA</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Libraries/EDA/index.html">EDA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Libraries/EDA/altera/qsysify.html">QSysify</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Simulation/index.html">Simulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/install.html">Setup and installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/bootstraps.html">Boot a simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/signal.html">Accessing signals of the simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/clock.html">Clock domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/threadFull.html">Thread-full API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/threadLess.html">Thread-less API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/engine.html">Simulation engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/examples/index.html">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/asynchronous.html">Asynchronous adder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/dual_clock_fifo.html">Dual clock fifo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/single_clock_fifo.html">Single clock fifo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/synchronous.html">Synchronous adder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/uart_decoder.html">Uart decoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/uart_encoder.html">Uart encoder</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Simple ones</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="apb3.html">APB3 definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="carry_adder.html">Carry adder</a></li>
<li class="toctree-l3"><a class="reference internal" href="color_summing.html">Color summing</a></li>
<li class="toctree-l3"><a class="reference internal" href="counter_with_clear.html">Counter with clear</a></li>
<li class="toctree-l3"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">PLL BlackBox and reset controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="rgb_to_gray.html">RGB to gray</a></li>
<li class="toctree-l3"><a class="reference internal" href="sinus_rom.html">Sinus rom</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Intermediates%20ones/index.html">Intermediates ones</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Intermediates%20ones/fractal.html">Fractal calculator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediates%20ones/uart.html">UART</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Intermediates%20ones/vga.html">VGA</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Advanced%20ones/index.html">Advanced ones</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Advanced%20ones/jtag.html">JTAG TAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced%20ones/memory_mapped_uart.html">Memory mapped UART</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced%20ones/pinesec.html">Pinesec</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced%20ones/timer.html">Timer</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Legacy/index.html">Legacy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Legacy/riscv.html">RiscV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Legacy/pinsec/index.html">pinsec</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/pinsec/hardware.html">Hardware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/pinsec/hardware_toplevel.html">SoC toplevel (Pinsec)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/pinsec/introduction.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/pinsec/software.html">Software</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Developers%20area/index.html">Developers area</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Developers%20area/bus_slave_factory_impl.html">Bus Slave Factory Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Developers%20area/howtodocument.html">How to HACK this documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Developers%20area/types.html">Types</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">SpinalHDL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Examples</a> &raquo;</li>
        
          <li><a href="index.html">Simple ones</a> &raquo;</li>
        
      <li>PLL BlackBox and reset controller</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/SpinalHDL/Examples/Simple ones/pll_resetctrl.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pll-blackbox-and-reset-controller">
<h1>PLL BlackBox and reset controller<a class="headerlink" href="#pll-blackbox-and-reset-controller" title="Permalink to this headline">¶</a></h1>
<p>Let’s imagine you want to define a <code class="docutils literal notranslate"><span class="pre">TopLevel</span></code> component which instantiates a PLL <code class="docutils literal notranslate"><span class="pre">BlackBox</span></code>, and create a new clock domain from it which will be used by your core logic. Let’s also imagine that you want to adapt an external asynchronous reset into this core clock domain to a synchronous reset source.</p>
<p>The following imports will be used in code examples on this page:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">spinal</span><span class="p">.</span><span class="nn">core</span><span class="p">.</span><span class="n">_</span>
<span class="k">import</span> <span class="nn">spinal</span><span class="p">.</span><span class="nn">lib</span><span class="p">.</span><span class="n">_</span>
</pre></div>
</div>
<div class="section" id="the-pll-blackbox-definition">
<h2>The PLL BlackBox definition<a class="headerlink" href="#the-pll-blackbox-definition" title="Permalink to this headline">¶</a></h2>
<p>This is how to define the PLL <code class="docutils literal notranslate"><span class="pre">BlackBox</span></code>:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PLL</span> <span class="k">extends</span> <span class="nc">BlackBox</span><span class="p">{</span>
  <span class="kd">val</span> <span class="n">io</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Bundle</span><span class="p">{</span>
    <span class="kd">val</span> <span class="n">clkIn</span>    <span class="o">=</span> <span class="n">in</span> <span class="nc">Bool</span>
    <span class="kd">val</span> <span class="n">clkOut</span>   <span class="o">=</span> <span class="n">out</span> <span class="nc">Bool</span>
    <span class="kd">val</span> <span class="n">isLocked</span> <span class="o">=</span> <span class="n">out</span> <span class="nc">Bool</span>
  <span class="p">}</span>

  <span class="n">noIoPrefix</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This will correspond to the following VHDL component:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>component PLL is
  port(
    clkIn    : in std_logic;
    clkOut   : out std_logic;
    isLocked : out std_logic
  );
end component;
</pre></div>
</div>
</div>
<div class="section" id="toplevel-definition">
<h2>TopLevel definition<a class="headerlink" href="#toplevel-definition" title="Permalink to this headline">¶</a></h2>
<p>This is how to define your <code class="docutils literal notranslate"><span class="pre">TopLevel</span></code> which instantiates the PLL, creates the new <code class="docutils literal notranslate"><span class="pre">ClockDomain</span></code>, and also adapts the asynchronous reset input to a synchronous reset:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TopLevel</span> <span class="k">extends</span> <span class="nc">Component</span><span class="p">{</span>
  <span class="kd">val</span> <span class="n">io</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Bundle</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="n">aReset</span>    <span class="o">=</span> <span class="n">in</span> <span class="nc">Bool</span>
    <span class="kd">val</span> <span class="n">clk100Mhz</span> <span class="o">=</span> <span class="n">in</span> <span class="nc">Bool</span>
    <span class="kd">val</span> <span class="n">result</span>    <span class="o">=</span> <span class="n">out</span> <span class="nc">UInt</span><span class="p">(</span><span class="mi">4</span> <span class="n">bits</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="c1">// Create an Area to manage all clocks and reset things</span>
  <span class="kd">val</span> <span class="n">clkCtrl</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Area</span> <span class="p">{</span>
    <span class="c1">//Instanciate and drive the PLL</span>
    <span class="kd">val</span> <span class="n">pll</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PLL</span>
    <span class="n">pll</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">clkIn</span> <span class="o">:=</span> <span class="n">io</span><span class="p">.</span><span class="n">clk100Mhz</span>

    <span class="c1">//Create a new clock domain named &#39;core&#39;</span>
    <span class="kd">val</span> <span class="n">coreClockDomain</span> <span class="o">=</span> <span class="nc">ClockDomain</span><span class="p">.</span><span class="n">internal</span><span class="p">(</span>
      <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;core&quot;</span><span class="p">,</span>
      <span class="n">frequency</span> <span class="o">=</span> <span class="nc">FixedFrequency</span><span class="p">(</span><span class="mi">200</span> <span class="nc">MHz</span><span class="p">)</span>  <span class="c1">// This frequency specification can be used</span>
    <span class="p">)</span>                                      <span class="c1">// by coreClockDomain users to do some calculations</span>

    <span class="c1">//Drive clock and reset signals of the coreClockDomain previously created</span>
    <span class="n">coreClockDomain</span><span class="p">.</span><span class="n">clock</span> <span class="o">:=</span> <span class="n">pll</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">clkOut</span>
    <span class="n">coreClockDomain</span><span class="p">.</span><span class="n">reset</span> <span class="o">:=</span> <span class="nc">ResetCtrl</span><span class="p">.</span><span class="n">asyncAssertSyncDeassert</span><span class="p">(</span>
      <span class="n">input</span> <span class="o">=</span> <span class="n">io</span><span class="p">.</span><span class="n">aReset</span> <span class="o">||</span> <span class="o">!</span> <span class="n">pll</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">isLocked</span><span class="p">,</span>
      <span class="n">clockDomain</span> <span class="o">=</span> <span class="n">coreClockDomain</span>
    <span class="p">)</span>
  <span class="p">}</span>

  <span class="c1">//Create a ClockingArea which will be under the effect of the clkCtrl.coreClockDomain</span>
  <span class="kd">val</span> <span class="n">core</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClockingArea</span><span class="p">(</span><span class="n">clkCtrl</span><span class="p">.</span><span class="n">coreClockDomain</span><span class="p">){</span>
    <span class="c1">//Do your stuff which use coreClockDomain here</span>
    <span class="kd">val</span> <span class="n">counter</span> <span class="o">=</span> <span class="nc">Reg</span><span class="p">(</span><span class="nc">UInt</span><span class="p">(</span><span class="mi">4</span> <span class="n">bits</span><span class="p">))</span> <span class="n">init</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">counter</span> <span class="o">:=</span> <span class="n">counter</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="n">io</span><span class="p">.</span><span class="n">result</span> <span class="o">:=</span> <span class="n">counter</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="rgb_to_gray.html" class="btn btn-neutral float-right" title="RGB to gray" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="introduction.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, SpinalHDL.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: v1.3.1
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="pll_resetctrl.html">v1.3.1</a></dd>
      <dd><a href="../../../../v1.3.8/SpinalHDL/Examples/Simple ones/pll_resetctrl.html">v1.3.8</a></dd>
      <dd><a href="../../../../v1.5.0/SpinalHDL/Examples/Simple ones/pll_resetctrl.html">v1.5.0</a></dd>
      <dd><a href="../../../../v1.6.0/SpinalHDL/Examples/Simple ones/pll_resetctrl.html">v1.6.0</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="../../../../dev/SpinalHDL/Examples/Simple ones/pll_resetctrl.html">dev</a></dd>
      <dd><a href="../../../../master/SpinalHDL/Examples/Simple ones/pll_resetctrl.html">master</a></dd>
    </dl>
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>