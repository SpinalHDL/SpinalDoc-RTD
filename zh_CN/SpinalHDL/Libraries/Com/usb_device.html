<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>USB设备 &mdash; SpinalHDL  文档</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/gh-fork-ribbon.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/spinaldoc.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/logo3_32x32.png"/>
    <link rel="canonical" href="https://spinalhdl.github.io/SpinalDoc-RTD/master/SpinalHDL/Libraries/Com/usb_device.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/translations.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/skins/default.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/wavedrom.min.js"></script>
        <script src="../../../_static/dialog.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="搜索" href="../../../search.html" />
    <link rel="next" title="USB OHCI" href="usb_ohci.html" />
    <link rel="prev" title="串口" href="uart.html" />
     
    <!-- source/_templates/layout.html -->
    
    
    

</head>

<body class="wy-body-for-nav">
     
    
    
    
    <div class="div-svg-github-corner github-corner-abs">
    <a href="https://github.com/SpinalHDL/SpinalDoc-RTD/blob/master/source/SpinalHDL/Libraries/Com/usb_device.rst" class="github-corner github-fork-ribbon" aria-label="Edit on GitHub" data-ribbon="Edit on GitHub" title="Edit on GitHub">
      <object id="svg-github-corner" data="../../../_static/github-corner-right.svg" class="svg-github-corner github-corner-abs" width="80" height="80"></object>
    </a>
    </div>
    
    
    

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            SpinalHDL
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Foreword/index.html">前言</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Foreword/index.html#why-moving-away-from-traditional-hdl">为什么要放弃传统的 HDL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Foreword/index.html#vhdl-verilog-aren-t-hardware-description-languages">VHDL/Verilog 不是硬件描述语言</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Foreword/index.html#event-driven-paradigm-doesn-t-make-any-sense-for-rtl">事件驱动范式对于 RTL 没有任何意义</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Foreword/index.html#recent-revisions-of-vhdl-and-verilog-aren-t-usable">VHDL 和 Verilog 的最新版本不可用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Foreword/index.html#vhdl-records-verilog-struct-are-broken-systemverilog-is-good-on-this-if-you-can-use-it">VHDL 结构记录（record），Verilog 结构（struct）已经破碎（SystemVerilog 在这方面很好，如果您可以使用它）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Foreword/index.html#vhdl-and-verilog-are-so-verbose">VHDL 和 Verilog 太冗长了</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Foreword/index.html#meta-hardware-description-capabilities">元硬件描述能力</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Introduction/index.html">简介</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Introduction/SpinalHDL.html">关于 SpinalHDL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/SpinalHDL.html#what-is-spinalhdl">什么是SpinalHDL？</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/SpinalHDL.html#what-spinalhdl-is-not">SpinalHDL 不是什么</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/SpinalHDL.html#the-spinal-development-flow">Spinal开发流程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/SpinalHDL.html#advantages-of-using-spinalhdl-over-vhdl-verilog">SpinalHDL 相对于 VHDL / Verilog 的优势</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Introduction/A%20simple%20example.html">一个简单的例子</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/A%20simple%20example.html#component">Component</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/A%20simple%20example.html#ports">端口</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/A%20simple%20example.html#internal-logic">内部逻辑</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Introduction/Projects%20using%20SpinalHDL.html">使用 SpinalHDL 的项目</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/Projects%20using%20SpinalHDL.html#repositories">仓库</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/Projects%20using%20SpinalHDL.html#companies">公司</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/Projects%20using%20SpinalHDL.html#universities">大学</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Introduction/Getting%20in%20touch.html">联系方式</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Introduction/License.html">许可证</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Introduction/Contributing.html">贡献</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Introduction/faq.html">常见问题</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/faq.html#what-is-the-overhead-of-spinalhdl-generated-rtl-compared-to-human-written-vhdl-verilog">与人工编写的 VHDL/Verilog 相比，SpinalHDL 生成的 RTL 的开销是多少？</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/faq.html#what-if-spinalhdl-becomes-unsupported-in-the-future">如果 SpinalHDL 将来没有支持了怎么办？</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/faq.html#does-spinalhdl-keep-comments-in-generated-vhdl-verilog">SpinalHDL 是否在生成的 VHDL/Verilog 中保留注释？</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/faq.html#could-spinalhdl-scale-up-to-big-projects">SpinalHDL 可以扩展到大型项目吗？</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/faq.html#how-spinalhdl-came-to-be">SpinalHDL 是如何诞生的</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/faq.html#why-develop-a-new-language-when-there-is-vhdl-verilog-systemverilog">既然有了VHDL/Verilog/SystemVerilog，为什么还要开发新的语言呢？</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Introduction/faq.html#how-to-use-an-unreleased-version-of-spinalhdl-but-committed-on-git">如何使用 SpinalHDL 的未发布版本（但在 git 上提交）？</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Introduction/Other%20learning%20materials.html">其他学习资料</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Getting%20Started/index.html">入门</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/Install%20and%20setup.html">安装和设置</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Install%20and%20setup.html#required-recommended-tools">必需/推荐的工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Install%20and%20setup.html#linux-installation">Linux安装</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Install%20and%20setup.html#mac-os-x-installation">Mac OS X 安装</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Install%20and%20setup.html#windows-installation">Windows安装</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Install%20and%20setup.html#msys2-verilator-for-simulation">用于仿真的 MSYS2 verilator工具</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Install%20and%20setup.html#msys2-for-formal-verification">用 MSYS2 实施形式化验证</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Install%20and%20setup.html#oci-container">OCI容器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Install%20and%20setup.html#installing-sbt-in-an-internet-free-linux-environment">在无网络的 Linux 环境中安装 SBT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/Install%20and%20setup.html#create-a-first-spinalhdl-project">创建第一个 SpinalHDL 项目</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Install%20and%20setup.html#the-directory-structure-of-a-project">项目的目录结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Install%20and%20setup.html#using-spinal-on-spinalhdl-code">在 SpinalHDL 代码中使用 Spinal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/SBT.html">在 CLI （命令行）中结合 SBT 使用 Spinal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/VSCodium.html">在 VSCodium 中使用 Spinal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/IntelliJ.html">从 IntelliJ IDEA 使用 Spinal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/index.html">Scala 使用指南</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/basics.html">基础内容</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/basics.html#types">类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/basics.html#variables">变量</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/basics.html#functions">函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/basics.html#object">对象（Object）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/basics.html#entry-point-main">入口点（main）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/basics.html#class">类</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/basics.html#templates-type-parameterization">模板/类型参数化</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/coding_conventions.html">编码规范</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/coding_conventions.html#introduction">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/coding_conventions.html#class-vs-case-class">类与样例类</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/interaction.html">交互</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/interaction.html#introduction">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/interaction.html#how-spinalhdl-works-behind-the-api">SpinalHDL 在 API 隐藏后的工作原理</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/interaction.html#everything-is-a-reference">一切都是引用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/interaction.html#hardware-types">硬件类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/interaction.html#names-of-signals-in-the-generated-rtl">生成的 RTL 中的信号名称</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/interaction.html#scala-is-for-elaboration-spinalhdl-for-hardware-description">Scala 用于实例细化，SpinalHDL 用于硬件描述</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/interaction.html#scala-elaboration-capabilities-if-for-functional-programming">Scala 实例细化能力（if、for、函数式编程）</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/index.html#id1">Scala 使用指南</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Scala%20Guide/index.html#introduction">简介</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/index.html">VHDL 用户入门</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html">与VHDL对比</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#introduction">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#process">过程（Process）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#implicit-vs-explicit-definitions">隐式与显式定义对比</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#clock-domains">时钟域</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#component-s-internal-organization">组件的内部组织方式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#safety">安全性</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#functions-and-procedures">功能与流程</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#buses-and-interfaces">总线和接口</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#signal-declaration">信号声明</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#component-instantiation">组件实例化</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#casting">类型转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#resizing">调整位宽</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#parameterization">参数化</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_comp.html#meta-hardware-description">元硬件描述</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_perspective.html">VHDL 等效语法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_perspective.html#entity-and-architecture">实体和架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_perspective.html#data-types">数据类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_perspective.html#signal">信号</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_perspective.html#assignments">赋值</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_perspective.html#literals">字面量（Literals）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_perspective.html#registers">寄存器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Getting%20Started/Help%20for%20VHDL%20people/vhdl_perspective.html#process-blocks">过程块</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Getting%20Started/Cheatsheets/index.html">快速参考</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Cheatsheets/core.html">Core</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Cheatsheets/lib.html">Lib</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Getting%20Started/Cheatsheets/symbolic.html">Symbolic</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Data%20types/index.html">数据类型</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/bool.html">Bool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/bool.html#description">描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/bool.html#declaration">声明</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/bool.html#operators">运算符</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bool.html#logic">逻辑运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bool.html#edge-detection">边缘检测</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bool.html#comparison">比较运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bool.html#type-cast">类型转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bool.html#misc">杂项</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bool.html#maskedboolean">掩码布尔值</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/bits.html">位</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/bits.html#declaration">声明</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/bits.html#operators">运算符</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bits.html#logic">逻辑运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bits.html#comparison">比较运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bits.html#type-cast">类型转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bits.html#bit-extraction">位提取</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bits.html#misc">杂项</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/bits.html#maskedliteral">掩码字面量</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/Int.html">UInt/SInt</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Int.html#declaration">声明</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Int.html#operators">运算符</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Int.html#logic">逻辑运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Int.html#arithmetic">算术运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Int.html#comparison">比较运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Int.html#type-cast">类型转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Int.html#bit-extraction">位提取</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Int.html#misc">杂项</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Int.html#fixpoint-operations">定点小数操作</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Int.html#lower-bit-operations">低位运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Int.html#high-bit-operations">高位操作</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Int.html#fixto-function">fixTo 函数</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/enum.html">SpinalEnum</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/enum.html#description">描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/enum.html#declaration">声明</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/enum.html#encoding">编码</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/enum.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/enum.html#operators">运算符</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/enum.html#comparison">比较运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/enum.html#types">类型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/enum.html#type-cast">类型转换</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/bundle.html">Bundle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/bundle.html#description">描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/bundle.html#declaration">声明</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bundle.html#conditional-signals">条件信号</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/bundle.html#operators">运算符</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bundle.html#comparison">比较运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bundle.html#type-cast">类型转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bundle.html#convert-bits-back-to-bundle">将位转换回线束</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/bundle.html#io-element-direction">IO元件方向</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bundle.html#in-out">in/out</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/bundle.html#master-slave">master/slave</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/Vec.html">Vec</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Vec.html#description">描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Vec.html#declaration">声明</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Vec.html#examples">示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Vec.html#operators">运算符</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Vec.html#comparison">比较运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Vec.html#type-cast">类型转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Vec.html#misc">杂项</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Vec.html#lib-helper-functions">库辅助函数</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/Fix.html">UFix/SFix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Fix.html#description">描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Fix.html#declaration">声明</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Fix.html#unsigned-fixed-point">无符号定点小数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Fix.html#signed-fixed-point">有符号定点小数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Fix.html#format">格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Fix.html#examples">示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Fix.html#assignments">赋值</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Fix.html#valid-assignments">有效赋值</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Fix.html#from-a-scala-constant">来自 Scala 常量</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Fix.html#raw-value">原始值</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Fix.html#id2">示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Fix.html#operators">运算符</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Fix.html#arithmetic">算术运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Fix.html#comparison">比较运算</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Fix.html#type-cast">类型转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Fix.html#misc">杂项</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/Floating.html">浮点小数</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Floating.html#description">描述</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Floating.html#ieee-754-floating-format">IEEE-754 浮点小数格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Floating.html#recoded-floating-format">重新编码的浮动小数格式</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Floating.html#declaration">声明</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Floating.html#ieee-754-number">IEEE-754 编码数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Floating.html#recoded-floating-point-number">重新编码的浮点数</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/Floating.html#operators">运算符</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Data%20types/Floating.html#type-cast">类型转换</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Data%20types/AFix.html">AFix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/AFix.html#description">描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/AFix.html#declaration">声明</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/AFix.html#mathematical-operations">数学运算</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/AFix.html#inequality-operations">不等式运算</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/AFix.html#bitshifting">位移操作</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/AFix.html#saturation-and-rounding">饱和与舍入</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Data%20types/AFix.html#assignment">赋值</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Structuring/index.html">结构设计</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/components_hierarchy.html">组件和层次结构</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/components_hierarchy.html#input-output-definition">输入/输出定义</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/components_hierarchy.html#pruned-signals">裁剪信号</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/components_hierarchy.html#parametrized-hardware-generic-in-vhdl-parameter-in-verilog">参数化硬件（VHDL 中的“Generic”，Verilog 中的“Parameter”）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/components_hierarchy.html#synthesized-component-names">综合后组件名称</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/area.html">Area</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/function.html">函数</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/function.html#rgb-to-gray">RGB信号转灰度信号</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/function.html#valid-ready-payload-bus">Valid Ready Payload 总线</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/clock_domain.html">时钟域</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/clock_domain.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/clock_domain.html#instantiation">实例化</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Structuring/clock_domain.html#configuration">配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Structuring/clock_domain.html#internal-clock">内部时钟</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Structuring/clock_domain.html#external-clock">外部时钟</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Structuring/clock_domain.html#signal-priorities-in-hdl-generation">生成 HDL 时的信号优先级</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Structuring/clock_domain.html#context">语境</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/clock_domain.html#clock-domain-crossing">跨时钟域设计</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/clock_domain.html#special-clocking-areas">特殊计时逻辑区</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Structuring/clock_domain.html#slow-area">慢时钟逻辑区</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Structuring/clock_domain.html#bootreset">启动复位</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Structuring/clock_domain.html#resetarea">复位时钟域</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Structuring/clock_domain.html#clockenablearea">时钟使能逻辑区</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/blackbox.html">实例化 VHDL 和 Verilog IP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/blackbox.html#description">描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/blackbox.html#defining-an-blackbox">定义一个黑盒</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/blackbox.html#generics">泛型</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/blackbox.html#instantiating-a-blackbox">实例化黑盒</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/blackbox.html#clock-and-reset-mapping">时钟和复位信号的映射</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/blackbox.html#io-prefix">io前缀</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/blackbox.html#rename-all-io-of-a-blackbox">重命名黑盒中的所有io</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/blackbox.html#add-rtl-source">添加 RTL 源</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/blackbox.html#vhdl-no-numeric-type">VHDL - 无数值类型</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/naming.html">保留名称的方法</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/naming.html#nameable-base-class">Nameable 基类</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/naming.html#name-extraction-from-scala">从 Scala 中提取名称</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/naming.html#area-in-a-component">组件中的区域</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/naming.html#area-in-a-function">函数中的逻辑区</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/naming.html#composite-in-a-function">函数中的复合区（Composite）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/naming.html#composite-chains">复合区级联链</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/naming.html#composite-in-a-bundle-s-function">在一个线束（Bundle）的函数中的复合区</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/naming.html#unnamed-signal-handling">Unnamed signal handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Structuring/naming.html#verilog-expression-splitting">Verilog 表达式分割</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Structuring/naming.html#verilog-long-expression-splitting">Verilog 长表达式分割</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Structuring/naming.html#when-statement-condition">When 语句条件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Structuring/naming.html#in-last-resort">最后一招</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Structuring/parametrization.html">参数化</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/parametrization.html#elaboration-time-parameters">实例细化时参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Structuring/parametrization.html#optional-hardware">可选硬件</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Semantic/index.html">语义</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Semantic/assignments.html">赋值</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Semantic/assignments.html#width-checking">位宽检查</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Semantic/assignments.html#combinatorial-loops">组合逻辑环(Combinatorial loops)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Semantic/assignments.html#combinit">CombInit</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Semantic/when_switch.html">When/Switch/Mux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Semantic/when_switch.html#when">When</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Semantic/when_switch.html#whenbuilder">WhenBuilder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Semantic/when_switch.html#switch">Switch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Semantic/when_switch.html#example">示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Semantic/when_switch.html#additional-options">其他选项</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Semantic/when_switch.html#local-declaration">本地声明</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Semantic/when_switch.html#mux">Mux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Semantic/when_switch.html#bitwise-selection">按位选择</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Semantic/when_switch.html#id1">示例</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Semantic/rules.html">规则</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Semantic/rules.html#concurrency">并发</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Semantic/rules.html#last-valid-assignment-wins">最后有效赋值生效</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Semantic/rules.html#signal-and-register-interactions-with-scala-oop-reference-functions">信号和寄存器与 Scala 语言的协作（OOP 引用 + 函数）</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Sequential%20logic/index.html">时序逻辑</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Sequential%20logic/registers.html">寄存器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Sequential%20logic/registers.html#instantiation">实例化</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Sequential%20logic/registers.html#reset-value">复位值</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Sequential%20logic/registers.html#initialization-value-for-simulation-purposes">用于仿真目的的初始化值</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Sequential%20logic/registers.html#register-vectors">寄存器组</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Sequential%20logic/registers.html#transforming-a-wire-into-a-register">将线缆/信号转换为寄存器</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Sequential%20logic/memory.html">RAM/ROM存储器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Sequential%20logic/memory.html#synchronous-enable-quirk">同步使能注意事项</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Sequential%20logic/memory.html#read-under-write-policy">写入时读取策略</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Sequential%20logic/memory.html#mixed-width-ram">混合位宽存储器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Sequential%20logic/memory.html#automatic-blackboxing">自动黑盒化</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Sequential%20logic/memory.html#blackboxing-policy">黑盒策略</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Sequential%20logic/memory.html#standard-memory-blackboxes">标准存储器黑盒</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Design%20errors/index.html">设计错误</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/assignment_overlap.html">赋值覆盖(Assignment overlap)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/assignment_overlap.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/assignment_overlap.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/clock_crossing_violation.html">跨时钟域违例(Clock crossing violation)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/clock_crossing_violation.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/clock_crossing_violation.html#example">示例</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Design%20errors/clock_crossing_violation.html#crossclockdomain-tag">crossClockDomain标签</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Design%20errors/clock_crossing_violation.html#setsynchronouswith">setSynchronousWith</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Design%20errors/clock_crossing_violation.html#buffercc">BufferCC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/combinatorial_loop.html">组合逻辑环(Combinatorial loop)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/combinatorial_loop.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/combinatorial_loop.html#example">示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/combinatorial_loop.html#false-positives">误报</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/hierarchy_violation.html">层次违例(Hierarchy violation)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/hierarchy_violation.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/hierarchy_violation.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/iobundle.html">IO线束</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/iobundle.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/iobundle.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/latch_detected.html">锁存器检测(Latch detected)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/latch_detected.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/latch_detected.html#example">示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/latch_detected.html#due-to-mux">因多路复用器产生的错误</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/no_driver_on.html">无驱动检测(No driver on)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/no_driver_on.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/no_driver_on.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/nullpointerexception.html">空指针异常(NullPointerException)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/nullpointerexception.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/nullpointerexception.html#example">示例</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Design%20errors/nullpointerexception.html#issue-explanation">问题说明</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/out_of_range_constant.html">超出范围的常数(Out of Range Constant)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/out_of_range_constant.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/out_of_range_constant.html#example">示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/out_of_range_constant.html#specifying-exceptions">特殊情况</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/register_defined_as_component_input.html">定义为组件输入的寄存器(Register defined as component input)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/register_defined_as_component_input.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/register_defined_as_component_input.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/scope_violation.html">作用域违例(Scope violation)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/scope_violation.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/scope_violation.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/spinal_cant_clone.html">Spinal无法克隆类(Spinal can’t clone class)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/spinal_cant_clone.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/spinal_cant_clone.html#example-1">例子1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/spinal_cant_clone.html#example-2">例子2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/unassigned_register.html">未赋值的寄存器(Unassigned register)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/unassigned_register.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/unassigned_register.html#example">示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/unassigned_register.html#register-with-only-init">只有初始化(init)的寄存器</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/unreachable_is_statement.html">无法访问的is语句(Unreachable is statement)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/unreachable_is_statement.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/unreachable_is_statement.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Design%20errors/width_mismatch.html">位宽不匹配(Width mismatch)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/width_mismatch.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/width_mismatch.html#assignment-example">赋值示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Design%20errors/width_mismatch.html#operator-example">运算操作示例</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Other%20language%20features/index.html">其他语言功能</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Other%20language%20features/utils.html">实用工具</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Other%20language%20features/utils.html#general">介绍</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Other%20language%20features/utils.html#cat">Cat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Other%20language%20features/utils.html#cloning-hardware-datatypes">克隆硬件数据类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Other%20language%20features/utils.html#passing-a-datatype-as-construction-parameter">将数据类型作为构造函数参数传递</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Other%20language%20features/utils.html#the-old-way">老办法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Other%20language%20features/utils.html#the-safe-way">安全的方法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Other%20language%20features/utils.html#frequency-and-time">频率和时间</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Other%20language%20features/utils.html#binary-prefix">二进制前缀</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Other%20language%20features/stub.html">存根（Stub）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Other%20language%20features/assertion.html">Assertions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Other%20language%20features/report.html">Report</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Other%20language%20features/scope_property.html">ScopeProperty</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Other%20language%20features/analog_inout.html">模拟信号和输入输出</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Other%20language%20features/analog_inout.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Other%20language%20features/analog_inout.html#analog">模拟信号</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Other%20language%20features/analog_inout.html#inout">输入/出</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Other%20language%20features/analog_inout.html#inoutwrapper">输入/出包装器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Other%20language%20features/analog_inout.html#manually-driving-analog-bundles">手动驱动模拟线束</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Other%20language%20features/vhdl_generation.html">VHDL 和 Verilog 生成</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Other%20language%20features/vhdl_generation.html#generate-vhdl-and-verilog-from-a-spinalhdl-component">从 SpinalHDL 组件生成 VHDL 和 Verilog</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Other%20language%20features/vhdl_generation.html#parametrization-from-scala">Scala 的参数化</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Other%20language%20features/vhdl_generation.html#parametrization-from-shell">来自 shell 的参数化</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Other%20language%20features/vhdl_generation.html#generated-vhdl-and-verilog">生成的 VHDL 和 Verilog</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Other%20language%20features/vhdl_generation.html#organization">组织</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Other%20language%20features/vhdl_generation.html#combinational-logic">组合逻辑</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Other%20language%20features/vhdl_generation.html#sequential-logic">时序逻辑</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Other%20language%20features/vhdl_generation.html#vhdl-and-verilog-attributes">VHDL 和 Verilog 属性</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">模块库</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../utils.html">实用工具</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../utils.html#state-less-utilities">免状态工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utils.html#state-full-utilities">全状态工具</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../utils.html#counter">计数器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils.html#timeout">超时</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils.html#resetctrl">复位控制</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../utils.html#special-utilities">特殊工具</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../stream.html">Stream</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../stream.html#specification">规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stream.html#semantics">语义</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stream.html#functions">函数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stream.html#utils">实用工具</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../stream.html#streamfifo">StreamFifo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stream.html#streamfifocc">StreamFifoCC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stream.html#streamccbytoggle">StreamCCByToggle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stream.html#streamwidthadapter">StreamWidthAdapter（反压流位宽适应器）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stream.html#streamarbiter">StreamArbiter（反压流仲裁器）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stream.html#streamjoin">StreamJoin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stream.html#streamfork">StreamFork</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stream.html#streammux">StreamMux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stream.html#streamdemux">StreamDemux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stream.html#streamdispatchersequencial">StreamDispatcherSequencial</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stream.html#streamtransactionextender">StreamTransactionExtender</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../stream.html#simulation-support">仿真支持</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../flow.html">Flow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../flow.html#specification">规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flow.html#functions">函数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flow.html#code-example">代码示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="../flow.html#simulation-support">仿真支持</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../fragment.html">Fragment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fragment.html#specification">规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fragment.html#functions">函数</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../fsm.html">状态机</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fsm.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fsm.html#statemachine">StateMachine</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../fsm.html#entry-point">入口点</a></li>
<li class="toctree-l4"><a class="reference internal" href="../fsm.html#transitions">转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../fsm.html#state-encoding">状态编码</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../fsm.html#states">状态</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../fsm.html#statedelay">StateDelay（状态延迟）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../fsm.html#statefsm">StateFsm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../fsm.html#stateparallelfsm">StateParallelFsm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../fsm.html#notes-about-the-entry-state">关于入口状态的注释</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vexriscv.html">VexRiscv（RV32IM CPU）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bus_slave_factory.html">总线从端生成器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bus_slave_factory.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bus_slave_factory.html#functionality">功能</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../fiber.html">纤程框架</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fiber.html#simple-dummy-example">简单的示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fiber.html#handle-t">Handle[T]</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../fiber.html#soon-handle">soon(handle)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../binarySystem.html">二进制系统</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../binarySystem.html#specification">规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="../binarySystem.html#string-to-int-long-bigint">String转为Int/Long/BigInt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../binarySystem.html#int-long-bigint-to-string">Int/Long/BigInt转为String</a></li>
<li class="toctree-l3"><a class="reference internal" href="../binarySystem.html#int-long-bigint-to-binary-list">Int/Long/BigInt转为二进制列表</a></li>
<li class="toctree-l3"><a class="reference internal" href="../binarySystem.html#binary-list-to-int-long-bigint">二进制列表转为Int/Long/BigInt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../binarySystem.html#bigint-enricher">BigInt放大器</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../regIf.html">RegIf</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../regIf.html#automatic-allocation">自动分配</a></li>
<li class="toctree-l3"><a class="reference internal" href="../regIf.html#access-types">28种访问类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="../regIf.html#automatic-documentation-generation">自动生成文档</a></li>
<li class="toctree-l3"><a class="reference internal" href="../regIf.html#special-access-usage">特殊访问用途</a></li>
<li class="toctree-l3"><a class="reference internal" href="../regIf.html#byte-mask">字节掩码</a></li>
<li class="toctree-l3"><a class="reference internal" href="../regIf.html#typical-example">典型例子</a></li>
<li class="toctree-l3"><a class="reference internal" href="../regIf.html#interrupt-factory">中断生成器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../regIf.html#ip-level-interrupt-factory">IP级中断生成器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../regIf.html#sys-level-interrupt-merge">SYS级中断合并</a></li>
<li class="toctree-l4"><a class="reference internal" href="../regIf.html#spinal-factory">Spinal的生成器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../regIf.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../regIf.html#defaultreadvalue">默认读取值</a></li>
<li class="toctree-l3"><a class="reference internal" href="../regIf.html#developers-area">开发者区域</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Bus/index.html">总线</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Bus/amba3/ahblite3.html">AHB-Lite3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Bus/amba3/ahblite3.html#configuration-and-instantiation">Configuration and instantiation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Bus/amba3/ahblite3.html#variations">变体</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Bus/amba3/apb3.html">Apb3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Bus/amba3/apb3.html#configuration-and-instantiation">Configuration and instantiation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Bus/amba3/apb3.html#functions-and-operators">函数和运算符</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Bus/amba4/axi4.html">Axi4</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Bus/amba4/axi4.html#configuration-and-instantiation">Configuration and instantiation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Bus/amba4/axi4.html#variations">变体</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Bus/amba4/axi4.html#functions-and-operators">函数和运算符</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Bus/avalon/avalonmm.html">AvalonMM</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Bus/avalon/avalonmm.html#configuration-and-instantiation">Configuration and instantiation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Bus/tilelink/tilelink.html">Tilelink</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Bus/tilelink/tilelink.html#configuration-and-instantiation">Configuration and instantiation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Bus/tilelink/tilelink_fabric.html">tilelink.fabric.Node</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Bus/tilelink/tilelink_fabric.html#example-toplevel">顶层示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Bus/tilelink/tilelink_fabric.html#example-gpiofiber">GPIOFiber示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Bus/tilelink/tilelink_fabric.html#example-ramfiber">RamFiber示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Bus/tilelink/tilelink_fabric.html#example-cpufiber">CpuFiber示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Bus/tilelink/tilelink_fabric.html#example-widthadapter">位宽适配器(WidthAdapter)示例</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">通信接口</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="spiXdr.html">SPI XDR</a><ul>
<li class="toctree-l4"><a class="reference internal" href="spiXdr.html#configuration">配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="spiXdr.html#software-driver">软件驱动</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="uart.html">串口</a><ul>
<li class="toctree-l4"><a class="reference internal" href="uart.html#bus-definition">总线定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="uart.html#uartctrl">UartCtrl</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">USB设备</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#architecture">架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="#registers">寄存器</a></li>
<li class="toctree-l4"><a class="reference internal" href="#descriptors">描述符</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage">用法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="usb_ohci.html">USB OHCI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="usb_ohci.html#usage">用法</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../IO/index.html">IO口</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../IO/readableOpenDrain.html">可读开漏IO(ReadableOpenDrain)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../IO/tristate.html">三态</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../IO/tristate.html#id1">三态</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO/tristate.html#tristatearray">三态阵列</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Graphics/index.html">图形</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Graphics/colors.html">颜色</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Graphics/colors.html#rgb">RGB</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Graphics/vga.html">VGA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Graphics/vga.html#vga-bus">VGA总线</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Graphics/vga.html#vga-timings">VGA时序</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Graphics/vga.html#vga-controller">VGA控制器</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../EDA/index.html">自动设计工具(EDA)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../EDA/altera/qsysify.html">QSysify</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../EDA/altera/qsysify.html#example">示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../EDA/altera/qsysify.html#tags">标签</a></li>
<li class="toctree-l4"><a class="reference internal" href="../EDA/altera/qsysify.html#adding-new-interface-support">添加新的接口支持</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../EDA/altera/quartus_flow.html">QuartusFlow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../EDA/altera/quartus_flow.html#for-a-single-rtl-file">对于单个rtl文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../EDA/altera/quartus_flow.html#for-an-existing-project">对于一个现有项目</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Pipeline/index.html">Pipeline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Pipeline/introduction.html">简介</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Pipeline/introduction.html#simple-example">简单示例</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Pipeline/introduction.html#payload">Payload</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Pipeline/introduction.html#node">Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Pipeline/introduction.html#links">Links</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Pipeline/introduction.html#directlink">DirectLink</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Pipeline/introduction.html#stagelink">StageLink</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Pipeline/introduction.html#s2mlink">S2mLink</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Pipeline/introduction.html#ctrllink">CtrlLink</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Pipeline/introduction.html#other-links">其他链接</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Pipeline/introduction.html#your-custom-link">您的自定义链接</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Pipeline/introduction.html#builder">Builder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Pipeline/introduction.html#composability">组合能力（Composability）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Pipeline/introduction.html#retiming-variable-length">Retiming / Variable length</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Pipeline/introduction.html#simple-cpu-example">简单的CPU示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Misc/index.html">杂项</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Misc/PLIC/plic_mapper.html">Plic映射器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Misc/PLIC/plic_mapper.html#plicmapper-apply"><code class="docutils literal notranslate"><span class="pre">PlicMapper.apply</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../Misc/PLIC/plic_mapper.html#plicmapping-sifive"><code class="docutils literal notranslate"><span class="pre">PlicMapping.sifive</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../Misc/PLIC/plic_mapper.html#plicmapping-light"><code class="docutils literal notranslate"><span class="pre">PlicMapping.light</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Misc/service_plugin.html">插件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Misc/service_plugin.html#introduction">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Misc/service_plugin.html#execution-order">执行顺序</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Misc/service_plugin.html#simple-example">简单示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Misc/service_plugin.html#interlocking-ordering">联锁/排序</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Simulation/index.html">仿真</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/install/index.html">用于仿真的 SBT 设置</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/install/index.html#backend-dependent-installation-instructions">后台依赖的安装说明</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Simulation/install/GHDL.html">GHDL 的设置和安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Simulation/install/Icarus%20Verilog.html">Icarus Verilog 的设置和安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Simulation/install/VCS.html">VCS 仿真配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Simulation/install/Verilator.html">Verilator 的设置和安装</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/bootstraps.html">启动仿真器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/bootstraps.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/bootstraps.html#configuration">配置</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/bootstraps.html#running-multiple-tests-on-the-same-hardware">在同一硬件上运行多个测试</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/bootstraps.html#throw-success-or-failure-of-the-simulation-from-a-thread">从线程中抛出仿真成功或失败结果</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/bootstraps.html#capturing-wave-for-a-given-window-before-failure">在失败之前捕获给定时间窗内的波形</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/signal.html">仿真过程中访问信号</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/signal.html#read-and-write-signals">读写信号</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/signal.html#accessing-signals-inside-the-component-s-hierarchy">访问组件层次结构内部的信号</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/signal.html#load-and-store-of-memory-in-simulation">仿真中内存的加载和存储</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/clock.html">时钟域</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/clock.html#stimulus-api">激励函数API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/clock.html#wait-api">等待相关API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/clock.html#callback-api">回调函数API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/clock.html#default-clockdomain">默认时钟域</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/clock.html#new-clockdomain">新时钟域</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/threadFull.html">全线程API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/threadFull.html#fork-and-join-simulation-threads">分裂和合并仿真线程</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/threadFull.html#sleep-and-waituntil">休眠和等待</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/threadLess.html">无线程API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/sensitive.html">敏感API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/simulator_specifics.html">仿真器的具体细节</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/simulator_specifics.html#how-spinalhdl-simulates-the-hardware-with-verilator-backend">SpinalHDL 如何使用 Verilator 后端进行硬件仿真</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/simulator_specifics.html#how-spinalhdl-simulates-the-hardware-with-ghdl-icarus-verilog-backend">SpinalHDL 如何使用 GHDL/Icarus Verilog 后端进行硬件仿真</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/simulator_specifics.html#how-spinalhdl-simulates-the-hardware-with-synopsys-vcs-backend">SpinalHDL 如何使用 Synopsys VCS 后端进行硬件仿真</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/simulator_specifics.html#how-spinalhdl-simulates-the-hardware-with-xilinx-xsim-backend">SpinalHDL 如何使用 Xilinx XSim 后端进行硬件仿真</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/simulator_specifics.html#performance">性能</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/engine.html">仿真引擎</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Simulation/examples/index.html">示例</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/asynchronous.html">异步加法器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/dual_clock_fifo.html">双时钟域FIFO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/single_clock_fifo.html">单时钟域FIFO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/synchronous.html">同步加法器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/uart_decoder.html">串口解码器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Simulation/examples/uart_encoder.html">串口编码器</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Formal%20verification/index.html">形式化验证</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Formal%20verification/index.html#general">介绍</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Formal%20verification/index.html#formal-backend">形式化验证后端</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Formal%20verification/index.html#installing-requirements">安装要求</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Formal%20verification/index.html#example">示例</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Formal%20verification/index.html#external-assertions">外部断言</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Formal%20verification/index.html#internal-assertions">内部断言</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Formal%20verification/index.html#external-stimulus">外部激励</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Formal%20verification/index.html#more-assertions-past">更多关于断言/past（以前某个时钟内的状态）的例子</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Formal%20verification/index.html#assuming-memory-content">假设内存中的内容</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Formal%20verification/index.html#utilities-and-primitives">实用工具和原语</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Formal%20verification/index.html#assertions-clock-reset">断言/时钟/复位</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Formal%20verification/index.html#specifying-the-initial-value-of-a-signal">指定信号的初始值</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Formal%20verification/index.html#specifying-a-initial-assumption">指定初始假设</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Formal%20verification/index.html#memory-content-mem">内存内容（Mem）检查</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Formal%20verification/index.html#specifying-assertion-in-the-reset-scope">在复位的时候进行断言检查，可以这样做</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Formal%20verification/index.html#formal-primitives">形式化验证的原语</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Formal%20verification/index.html#limitations">局限性</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Formal%20verification/index.html#naming-polices">命名策略</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Formal%20verification/index.html#for-component">对于组件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Formal%20verification/index.html#for-interfaces-implement-imasterslave">对于实现 IMasterSlave的接口</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/index.html">示例</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Examples/Simple%20ones/index.html">简单示例</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple%20ones/apb3.html">APB3定义</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Simple%20ones/apb3.html#introduction">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Simple%20ones/apb3.html#specification">规范</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Simple%20ones/apb3.html#implementation">实现</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Simple%20ones/apb3.html#usage">用法</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple%20ones/carry_adder.html">进位加法器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple%20ones/color_summing.html">颜色求和</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple%20ones/counter_with_clear.html">带清零的计数器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple%20ones/pll_resetctrl.html">锁相环黑盒和复位控制器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Simple%20ones/pll_resetctrl.html#the-pll-blackbox-definition">PLL BlackBox定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Simple%20ones/pll_resetctrl.html#toplevel-definition">TopLevel定义</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple%20ones/rgb_to_gray.html">RGB信号转灰度信号</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Simple%20ones/sinus_rom.html">正弦 ROM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Examples/Intermediates%20ones/index.html">中级示例</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Intermediates%20ones/fractal.html">分形计算器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/fractal.html#introduction">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/fractal.html#specification">规范</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/fractal.html#elaboration-parameters-generics">细化参数（泛型）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/fractal.html#bundle-definition">Bundle定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/fractal.html#component-implementation">组件实现</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Intermediates%20ones/uart.html">串口</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/uart.html#specification">规范</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/uart.html#data-structures">数据结构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/uart.html#implementation">实现</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/uart.html#simple-usage">简单应用</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/uart.html#example-with-test-bench">带TestBench的例子</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/uart.html#bonus-having-fun-with-stream">额外奖励：享受 Stream 带来的乐趣</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Intermediates%20ones/vga.html">VGA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/vga.html#introduction">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/vga.html#data-structures">数据结构</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Intermediates%20ones/vga.html#vga-controller">VGA控制器</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Examples/Advanced%20ones/index.html">高级示例</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Advanced%20ones/jtag.html">JTAG TAP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/jtag.html#introduction">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/jtag.html#jtag-bus">JTAG总线</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/jtag.html#jtag-state-machine">JTAG状态机</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/jtag.html#id1">JTAG TAP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/jtag.html#jtag-instructions">Jtag指令</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/jtag.html#user-friendly-wrapper">用户友好型包装</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/jtag.html#usage-demonstration">使用演示</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Advanced%20ones/memory_mapped_uart.html">内存映射UART</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/memory_mapped_uart.html#introduction">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/memory_mapped_uart.html#specification">规范</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/memory_mapped_uart.html#implementation">实现</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Advanced%20ones/pinesec.html">Pinesec</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Advanced%20ones/slots.html">插槽(Slots)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/slots.html#introduction">简介</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Examples/Advanced%20ones/timer.html">计时器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/timer.html#introduction">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/timer.html#id2">计时器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Examples/Advanced%20ones/timer.html#bridging-function">桥接函数</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Examples/index.html#getting-started">入门</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Legacy/index.html">历史遗留</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Legacy/riscv.html">RiscV</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/riscv.html#features">特性</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/riscv.html#base-fpga-project">基础FPGA项目</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/riscv.html#how-to-generate-the-cpu-vhdl">如何生成CPU VHDL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/riscv.html#how-to-debug">如何调试</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/riscv.html#todo">Todo</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Legacy/pinsec/index.html">pinsec</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/pinsec/introduction.html">简介</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/introduction.html#id1">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/introduction.html#board-support">板级支持</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/pinsec/hardware.html">硬件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/hardware.html#introduction">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/hardware.html#riscv">RISCV</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/hardware.html#axi4">AXI4</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/hardware.html#apb3">APB3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/hardware.html#generate-the-rtl">生成RTL</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/pinsec/hardware_toplevel.html">SoC顶层(Pinsec)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/hardware_toplevel.html#introduction">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/hardware_toplevel.html#defining-all-io">定义所有IO</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/hardware_toplevel.html#clock-and-resets">时钟和复位</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/hardware_toplevel.html#main-components">主要组件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/hardware_toplevel.html#peripherals">外设</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/hardware_toplevel.html#bus-interconnects">总线互连</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/hardware_toplevel.html#misc">杂项</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Legacy/pinsec/software.html">软件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/software.html#riscv-tool-chain">RISCV工具链</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Legacy/pinsec/software.html#openocd-gdb-eclipse-configuration">OpenOCD/GDB/Eclipse配置</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../miscelenea/index.html">杂项</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../miscelenea/frequent_errors.html">常见错误</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../miscelenea/frequent_errors.html#exception-in-thread-main-java-lang-nullpointerexception">“main”线程中异常 java.lang.NullPointerException</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../miscelenea/frequent_errors.html#hierarchy-violation">层次违例(Hierarchy violation)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../miscelenea/frequent_errors.html#signal-x-can-t-be-assigned-by-y">Signal X can’t be assigned by Y</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../miscelenea/frequent_errors.html#input-signal-x-can-t-be-assigned-by-y">Input signal X can’t be assigned by Y</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../miscelenea/frequent_errors.html#output-signal-x-can-t-be-assigned-by-y">Output signal X can’t be assigned by Y</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../miscelenea/core/core_components.html"><code class="docutils literal notranslate"><span class="pre">spinal.core</span></code> 组件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../miscelenea/core/core_components.html#clock-domains-definitions">时钟域定义</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../miscelenea/core/core_components.html#clock-domain-syntax">时钟域语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../miscelenea/core/core_components.html#clock-configuration">时钟配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../miscelenea/core/core_components.html#external-clock">外部时钟</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../miscelenea/core/core_components.html#cross-clock-domain">跨时钟域设计</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../miscelenea/core/core_components.html#assignments">赋值</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../miscelenea/core/core_components.html#when-switch">When / Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../miscelenea/core/core_components.html#component-hierarchy">组件/层次结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../miscelenea/core/core_components.html#area">Area</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../miscelenea/core/core_components.html#function">函数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../miscelenea/core/core_components.html#rgb-to-gray">RGB信号转灰度信号</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../miscelenea/core/core_components.html#valid-ready-payload-bus">Valid Ready Payload 总线</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../miscelenea/core/core_components.html#vhdl-generation">VHDL生成</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../miscelenea/core/core_components.html#instantiate-vhdl-and-verilog-ip">实例化 VHDL 和 Verilog IP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../miscelenea/core/core_components.html#utils">实用工具</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../miscelenea/core/elements.html">Element</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../miscelenea/core/elements.html#range">范围</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Developers%20area/index.html">开发者专区</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Developers%20area/bus_slave_factory_impl.html">总线从端（Factory）实现</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/bus_slave_factory_impl.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/bus_slave_factory_impl.html#specification">规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/bus_slave_factory_impl.html#implementation">实现</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Developers%20area/bus_slave_factory_impl.html#busslavefactory">BusSlaveFactory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Developers%20area/bus_slave_factory_impl.html#busslavefactorydelayed">BusSlaveFactoryDelayed</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Developers%20area/bus_slave_factory_impl.html#avalonmmslavefactory">AvalonMMSlaveFactory</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/bus_slave_factory_impl.html#conclusion">结论</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Developers%20area/howotuselocalspinalclone.html">项目中如何使用本地的SpinalHDL克隆作为依赖</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/howotuselocalspinalclone.html#create-local-git-clone-of-spinalhdl">创建本地的SpinalHDL git 克隆</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/howotuselocalspinalclone.html#configure-buildsystem">配置构建系统</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Developers%20area/howotuselocalspinalclone.html#configure-sbt-update-build-sbt">配置 sbt (更新 <code class="docutils literal notranslate"><span class="pre">build.sbt</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Developers%20area/howotuselocalspinalclone.html#configure-mill-update-build-sc">配置 mill (更新 <code class="docutils literal notranslate"><span class="pre">build.sc</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/howotuselocalspinalclone.html#done">完成</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Developers%20area/howtodocument.html">如何修改本文档</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/howtodocument.html#title-convention">标题约定</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/howtodocument.html#wavedrom-integration">Wavedrom 的集成</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/howtodocument.html#new-section">新章节</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Developers%20area/howtodocument.html#example">示例</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Developers%20area/mill%20support.html">通过Mill构建（输出）</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/mill%20support.html#compile-the-library">编译SpinalHDL库</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/mill%20support.html#run-all-test-suites">运行所有测试套件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/mill%20support.html#run-a-specified-test-suite">运行指定的测试套件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/mill%20support.html#run-a-specified-app">运行指定程序（App）</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/mill%20support.html#publish-locally">本地发布</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Developers%20area/spinalhdl_datamodel.html">SpinalHDL 内部数据模型</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/spinalhdl_datamodel.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/spinalhdl_datamodel.html#general-structure">总体结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/spinalhdl_datamodel.html#exploring-the-datamodel">探索数据模型</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/spinalhdl_datamodel.html#compilation-phases">编译环节</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/spinalhdl_datamodel.html#modifying-a-netlist-as-a-user-without-plugins">在不使用插件的情况下，以用户身份修改网表</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/spinalhdl_datamodel.html#user-space-netlist-analysis">用户空间网表分析</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/spinalhdl_datamodel.html#enumerating-every-clockdomain-in-use">遍历、枚举正在使用的每个时钟域</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Developers%20area/types.html">类型</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/types.html#introduction">简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/types.html#bool">Bool</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Developers%20area/types.html#declaration">声明</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Developers%20area/types.html#operators">运算符</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/types.html#the-bitvector-family-bits-uint-sint">BitVector 系列 - (<code class="docutils literal notranslate"><span class="pre">Bits</span></code>, <code class="docutils literal notranslate"><span class="pre">UInt</span></code>, <code class="docutils literal notranslate"><span class="pre">SInt</span></code>)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Developers%20area/types.html#declaration-syntax">声明语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Developers%20area/types.html#id1">运算符</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Developers%20area/types.html#masked-comparison">掩码过滤结果比较</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/types.html#bits">位</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/types.html#uint-sint">UInt、SInt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/types.html#bool-bits-uint-sint">Bool, Bits, UInt, SInt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/types.html#vec">Vec</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/types.html#bundle">Bundle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Developers%20area/types.html#simple-example-rgb-vga">简单示例（RGB/VGA）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Developers%20area/types.html#interface-example-apb">接口示例（APB）</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/types.html#enum">Enum</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/types.html#data-bool-bits-uint-sint-enum-bundle-vec">Data (Bool, Bits, UInt, SInt, Enum, Bundle, Vec)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/types.html#literals-as-signal-declaration">使用字面量声明信号</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Developers%20area/types.html#continuous-assignment-literals-as-signal-declaration">用连续赋值字面量作来声明信号</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">SpinalHDL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">模块库</a></li>
          <li class="breadcrumb-item"><a href="index.html">通信接口</a></li>
      <li class="breadcrumb-item active">USB设备</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/SpinalHDL/SpinalDoc-RTD/blob/master/source/SpinalHDL/Libraries/Com/usb_device.rst" class="fa fa-github"> 在 GitHub 上编辑</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             


  <section id="usb-device">
<h1>USB设备<a class="headerlink" href="#usb-device" title="此标题的永久链接"></a></h1>
<p>SpinalHDL库中存在一个USB设备控制器。</p>
<p>A few bullet points to summarize support:</p>
<ul class="simple">
<li><p>实现了允许CPU配置和管理端点</p></li>
<li><p>存储端点状态和事务描述符的内部RAM</p></li>
<li><p>Up to 16 endpoints (for virtually no price)</p></li>
<li><p>Support USB host full speed (12 Mbps)</p></li>
<li><p>在Linux上使用自己的驱动程序进行测试(<a class="reference external" href="https://github.com/SpinalHDL/linux/blob/dev/drivers/usb/gadget/udc/spinal_udc.c">https://github.com/SpinalHDL/linux/blob/dev/drivers/usb/gadget/udc/spinal_udc.c</a>)</p></li>
<li><p>Bmb memory interface for the configuration</p></li>
<li><p>内部物理层需要一个时钟，该时钟需为12 Mhz的倍数，至少48 Mhz</p></li>
<li><p>控制器频率不受限制</p></li>
<li><p>无需外部物理层</p></li>
</ul>
<p>Linux小工具经过测试且功能正常：</p>
<ul class="simple">
<li><p>串行连接</p></li>
<li><p>以太网连接</p></li>
<li><p>大容量存储（ArtyA7 Linux上约为8 Mbps）</p></li>
</ul>
<p>部署：</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/SpinalHDL/SaxonSoc/tree/dev-0.3/bsp/digilent/ArtyA7SmpLinux">https://github.com/SpinalHDL/SaxonSoc/tree/dev-0.3/bsp/digilent/ArtyA7SmpLinux</a></p></li>
<li><p><a class="reference external" href="https://github.com/SpinalHDL/SaxonSoc/tree/dev-0.3/bsp/radiona/ulx3s/smp">https://github.com/SpinalHDL/SaxonSoc/tree/dev-0.3/bsp/radiona/ulx3s/smp</a></p></li>
</ul>
<section id="architecture">
<h2>架构<a class="headerlink" href="#architecture" title="此标题的永久链接"></a></h2>
<p>控制器由以下部分组成：</p>
<ul class="simple">
<li><p>一小部分控制寄存器</p></li>
<li><p>一个用于存储端点状态、传输描述符和端点0配置数据的内部RAM。</p></li>
</ul>
<p>每个端点的描述符链表时用于处理USB出入(IN/OUT)事务和数据。</p>
<p>端点0也像所有其他端点一样管理出入USB的传输事务，但也会有一些额外的硬件来管理设置(SETUP)事务：</p>
<ul class="simple">
<li><p>它的链表在每次设置事务时都会被清除</p></li>
<li><p>来自设置(SETUP)事务的数据存储在固定位置(SETUP_DATA)</p></li>
<li><p>它有一个用于设置(SETUP)事务的特定中断标志</p></li>
</ul>
</section>
<section id="registers">
<h2>寄存器<a class="headerlink" href="#registers" title="此标题的永久链接"></a></h2>
<p>请注意，控制器的所有寄存器和存储器只能以32位字的访问方式进行访问，不支持字节访问。</p>
<section id="frame-0xff00">
<h3>帧FRAME (0xFF00)<a class="headerlink" href="#frame-0xff00" title="此标题的永久链接"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>名称</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>位</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>usbFrameId</p></td>
<td><p>RO</p></td>
<td><p>31-0</p></td>
<td><p>当前USB帧的ID</p></td>
</tr>
</tbody>
</table>
</section>
<section id="address-0xff04">
<h3>地址ADDRESS (0xFF04)<a class="headerlink" href="#address-0xff04" title="此标题的永久链接"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>名称</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>位</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>address</p></td>
<td><p>WO</p></td>
<td><p>6-0</p></td>
<td><p>The device will only listen at tokens with the specified address
This field is automatically cleared on usb reset events</p></td>
</tr>
<tr class="row-odd"><td><p>enable</p></td>
<td><p>WO</p></td>
<td><p>8</p></td>
<td><p>如果置1，启用USB地址过滤</p></td>
</tr>
<tr class="row-even"><td><p>trigger</p></td>
<td><p>WO</p></td>
<td><p>9</p></td>
<td><p>Set the enable (see above) on the next EP0 IN token completion
Cleared by the hardware after any EP0 completion</p></td>
</tr>
</tbody>
</table>
<p>The idea here is to keep the whole register cleared until a USB SET_ADDRESS setup packet is received on EP0.
At that moment, you can set the address and the trigger field, then provide the IN zero length descriptor to EP0 to
finalize the SET_ADDRESS sequence. The controller will then automatically turn on the address filtering at the completion of that descriptor.</p>
</section>
<section id="interrupt-0xff08">
<h3>中断INTERRUPT (0xFF08)<a class="headerlink" href="#interrupt-0xff08" title="此标题的永久链接"></a></h3>
<p>该寄存器的每个位都可以通过写入 ‘1’ 来清除。读取该寄存器将返回当前中断状态。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>名称</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>位</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>endpoints</p></td>
<td><p>W1C</p></td>
<td><p>15-0</p></td>
<td><p>当端点产生中断时拉高</p></td>
</tr>
<tr class="row-odd"><td><p>reset</p></td>
<td><p>W1C</p></td>
<td><p>16</p></td>
<td><p>当USB复位发生时拉高</p></td>
</tr>
<tr class="row-even"><td><p>ep0Setup</p></td>
<td><p>W1C</p></td>
<td><p>17</p></td>
<td><p>当端点0收到设置请求时拉高</p></td>
</tr>
<tr class="row-odd"><td><p>suspend</p></td>
<td><p>W1C</p></td>
<td><p>18</p></td>
<td><p>当发生USB挂起时拉高</p></td>
</tr>
<tr class="row-even"><td><p>resume</p></td>
<td><p>W1C</p></td>
<td><p>19</p></td>
<td><p>当USB发生恢复时拉高</p></td>
</tr>
<tr class="row-odd"><td><p>disconnect</p></td>
<td><p>W1C</p></td>
<td><p>20</p></td>
<td><p>当USB断开连接时拉高</p></td>
</tr>
</tbody>
</table>
</section>
<section id="halt-0xff0c">
<h3>暂停HALT (0xFF0C)<a class="headerlink" href="#halt-0xff0c" title="此标题的永久链接"></a></h3>
<p>该寄存器允许将单个端点置于休眠状态，以确保CPU操作的原子性，从而允许在端点寄存器和描述符上执行读/修改/写操作。如果USB主机在暂停启用且端点启用的情况下寻址给定端点，那么外设将返回NAK。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>名称</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>位</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>endpointId</p></td>
<td><p>WO</p></td>
<td><p>3-0</p></td>
<td><p>您想要进入休眠状态的目标端点</p></td>
</tr>
<tr class="row-odd"><td><p>enable</p></td>
<td><p>WO</p></td>
<td><p>4</p></td>
<td><p>当设置暂停时为活动状态，当清除时端点解除暂停。</p></td>
</tr>
<tr class="row-even"><td><p>effective
enable</p></td>
<td><p>RO</p></td>
<td><p>5</p></td>
<td><p>设置使能后，需要等待硬件本身设置该位，以保证原子性</p></td>
</tr>
</tbody>
</table>
</section>
<section id="config-0xff10">
<h3>配置CONFIG (0xFF10)<a class="headerlink" href="#config-0xff10" title="此标题的永久链接"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>名称</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>位</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>pullupSet</p></td>
<td><p>SO</p></td>
<td><p>0</p></td>
<td><p>写入 ‘1’ 以使能dp引脚上的USB设备上拉</p></td>
</tr>
<tr class="row-odd"><td><p>pullupClear</p></td>
<td><p>SO</p></td>
<td><p>1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>interruptEnableSet</p></td>
<td><p>SO</p></td>
<td><p>2</p></td>
<td><p>写入 ‘1’ 让当前和未来的中断发生</p></td>
</tr>
<tr class="row-odd"><td><p>interruptEnableClear</p></td>
<td><p>SO</p></td>
<td><p>3</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="info-0xff20">
<h3>信息INFO (0xFF20)<a class="headerlink" href="#info-0xff20" title="此标题的永久链接"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>名称</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>位</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ramSize</p></td>
<td><p>RO</p></td>
<td><p>3-0</p></td>
<td><p>内部RAM将有 (1 &lt;&lt; this) 字节</p></td>
</tr>
</tbody>
</table>
</section>
<section id="endpoints-0x0000-0x003f">
<h3>端点ENDPOINTS (0x0000 - 0x003F)<a class="headerlink" href="#endpoints-0x0000-0x003f" title="此标题的永久链接"></a></h3>
<p>The endpoints status are stored at the beginning of the internal ram over one 32 bits word each.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>名称</p></th>
<th class="head"><p>类型</p></th>
<th class="head"><p>位</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>enable</p></td>
<td><p>RW</p></td>
<td><p>0</p></td>
<td><p>If not set, the endpoint will ignore all the traffic</p></td>
</tr>
<tr class="row-odd"><td><p>stall</p></td>
<td><p>RW</p></td>
<td><p>1</p></td>
<td><p>如果设置，端点将始终返回STALL状态</p></td>
</tr>
<tr class="row-even"><td><p>nack</p></td>
<td><p>RW</p></td>
<td><p>2</p></td>
<td><p>如果设置，端点将始终返回NACK状态</p></td>
</tr>
<tr class="row-odd"><td><p>dataPhase</p></td>
<td><p>RW</p></td>
<td><p>3</p></td>
<td><p>指定使用的出入数据PID。 ‘0’ =&gt; DATA0。该字段也由控制器更新。</p></td>
</tr>
<tr class="row-even"><td><p>head</p></td>
<td><p>RW</p></td>
<td><p>15-4</p></td>
<td><p>指定当前描述符头（链表）。0 =&gt; 空列表，字节地址 = this &lt;&lt; 4</p></td>
</tr>
<tr class="row-odd"><td><p>isochronous</p></td>
<td><p>RW</p></td>
<td><p>16</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>maxPacketSize</p></td>
<td><p>RW</p></td>
<td><p>31-22</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>要获得端点响应，您需要：</p>
<ul class="simple">
<li><p>将其使能标志设置为1</p></li>
</ul>
<p>那么有几种情况： -要么设置了stall或nack标志，所以控制器将始终响应相应的响应 -要么，对于EP0设置请求，控制器不会使用描述符，而是会将数据写入SETUP_DATA寄存器和ACK -要么你有一个空链表 (head==0)，在这种情况下它将响应NACK -要么你至少有一个由head指向的描述符，在这种情况下，它将执行该描述符，并在一切顺利时进行ACK</p>
</section>
<section id="setup-data-0x0040-0x0047">
<h3>设置数据SETUP_DATA (0x0040 - 0x0047)<a class="headerlink" href="#setup-data-0x0040-0x0047" title="此标题的永久链接"></a></h3>
<p>当端点0接收到SETUP事务时，该事务的数据将存储在该位置。</p>
</section>
</section>
<section id="descriptors">
<h2>描述符<a class="headerlink" href="#descriptors" title="此标题的永久链接"></a></h2>
<p>描述符允许指定一个端点需要如何处理出入(IN/OUT)事务的数据阶段。它们存储在内部 RAM 中，可以通过链表链接在一起，并且需要在16字节边界上对齐</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>名称</p></th>
<th class="head"><p>字</p></th>
<th class="head"><p>位</p></th>
<th class="head"><p>描述</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>offset</p></td>
<td><p>0</p></td>
<td><p>15-0</p></td>
<td><p>指定当前传输进度（以字节为单位）</p></td>
</tr>
<tr class="row-odd"><td><p>code</p></td>
<td><p>0</p></td>
<td><p>19-16</p></td>
<td><p>0xF =&gt; 进行中，0x0 =&gt; 成功</p></td>
</tr>
<tr class="row-even"><td><p>next</p></td>
<td><p>1</p></td>
<td><p>15-4</p></td>
<td><p>指向下一个描述符 0 =&gt; 无，字节地址 = this &lt;&lt; 4</p></td>
</tr>
<tr class="row-odd"><td><p>length</p></td>
<td><p>1</p></td>
<td><p>31-16</p></td>
<td><p>分配给数据字段的字节数</p></td>
</tr>
<tr class="row-even"><td><p>方向</p></td>
<td><p>2</p></td>
<td><p>16</p></td>
<td><p>‘0’ =&gt; 输出，’1’ =&gt; 输入</p></td>
</tr>
<tr class="row-odd"><td><p>interrupt</p></td>
<td><p>2</p></td>
<td><p>17</p></td>
<td><p>如果置位，描述符完成时将产生中断。</p></td>
</tr>
<tr class="row-even"><td><p>completionOnFull</p></td>
<td><p>2</p></td>
<td><p>18</p></td>
<td><p>通常，描述符补全只会在USB传输小于maxPacketSize时发生。但如果置位了该字段，那么当描述符被填满时也被视为事件已完成。(offset == length)</p></td>
</tr>
<tr class="row-odd"><td><p>data1OnCompletion</p></td>
<td><p>2</p></td>
<td><p>19</p></td>
<td><p>描述符完成时强制端点dataPhase为DATA1</p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>请注意，如果控制器接收到IN/OUT与描述符IN/OUT不匹配的帧，那么该帧将被忽略。</p>
<p>Also, to initialize a descriptor, the CPU should set the code field to 0xF</p>
</section>
<section id="usage">
<h2>用法<a class="headerlink" href="#usage" title="此标题的永久链接"></a></h2>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="nn">spinal</span><span class="p">.</span><span class="nn">core</span><span class="p">.</span><span class="n">_</span>
<span class="k">import</span><span class="w"> </span><span class="nn">spinal</span><span class="p">.</span><span class="nn">core</span><span class="p">.</span><span class="nn">sim</span><span class="p">.</span><span class="n">_</span>
<span class="k">import</span><span class="w"> </span><span class="nn">spinal</span><span class="p">.</span><span class="nn">lib</span><span class="p">.</span><span class="nn">bus</span><span class="p">.</span><span class="nn">bmb</span><span class="p">.</span><span class="nc">BmbParameter</span>
<span class="k">import</span><span class="w"> </span><span class="nn">spinal</span><span class="p">.</span><span class="nn">lib</span><span class="p">.</span><span class="nn">com</span><span class="p">.</span><span class="nn">usb</span><span class="p">.</span><span class="nn">phy</span><span class="p">.</span><span class="nc">UsbDevicePhyNative</span>
<span class="k">import</span><span class="w"> </span><span class="nn">spinal</span><span class="p">.</span><span class="nn">lib</span><span class="p">.</span><span class="nn">com</span><span class="p">.</span><span class="nn">usb</span><span class="p">.</span><span class="nn">sim</span><span class="p">.</span><span class="nc">UsbLsFsPhyAbstractIoAgent</span>
<span class="k">import</span><span class="w"> </span><span class="nn">spinal</span><span class="p">.</span><span class="nn">lib</span><span class="p">.</span><span class="nn">com</span><span class="p">.</span><span class="nn">usb</span><span class="p">.</span><span class="nn">udc</span><span class="p">.{</span><span class="nc">UsbDeviceCtrl</span><span class="p">,</span><span class="w"> </span><span class="nc">UsbDeviceCtrlParameter</span><span class="p">}</span>


<span class="k">case</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">UsbDeviceTop</span><span class="p">()</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nc">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">ctrlCd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ClockDomain</span><span class="p">.</span><span class="n">external</span><span class="p">(</span><span class="s">&quot;ctrlCd&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">FixedFrequency</span><span class="p">(</span><span class="mi">100</span><span class="w"> </span><span class="nc">MHz</span><span class="p">))</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">phyCd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ClockDomain</span><span class="p">.</span><span class="n">external</span><span class="p">(</span><span class="s">&quot;phyCd&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">FixedFrequency</span><span class="p">(</span><span class="mi">48</span><span class="w"> </span><span class="nc">MHz</span><span class="p">))</span>

<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">ctrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctrlCd</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">UsbDeviceCtrl</span><span class="p">(</span>
<span class="w">    </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">UsbDeviceCtrlParameter</span><span class="p">(</span>
<span class="w">      </span><span class="n">addressWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">14</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">    </span><span class="n">bmbParameter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">BmbParameter</span><span class="p">(</span>
<span class="w">      </span><span class="n">addressWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">UsbDeviceCtrl</span><span class="p">.</span><span class="n">ctrlAddressWidth</span><span class="p">,</span>
<span class="w">      </span><span class="n">dataWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span>
<span class="w">      </span><span class="n">sourceWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="n">contextWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="n">lengthWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">)</span>

<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">phy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">phyCd</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">UsbDevicePhyNative</span><span class="p">(</span><span class="n">sim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
<span class="w">  </span><span class="n">ctrl</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">phy</span><span class="p">.</span><span class="n">cc</span><span class="p">(</span><span class="n">ctrlCd</span><span class="p">,</span><span class="w"> </span><span class="n">phyCd</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">phy</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">ctrl</span>

<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">bmb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctrl</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">ctrl</span><span class="p">.</span><span class="n">toIo</span><span class="p">()</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">usb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">phy</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">usb</span><span class="p">.</span><span class="n">toIo</span><span class="p">()</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">phy</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">power</span><span class="p">.</span><span class="n">toIo</span><span class="p">()</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">pullup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">phy</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">pullup</span><span class="p">.</span><span class="n">toIo</span><span class="p">()</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">interrupts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctrl</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">interrupt</span><span class="p">.</span><span class="n">toIo</span><span class="p">()</span>
<span class="p">}</span>


<span class="k">object</span><span class="w"> </span><span class="nc">UsbDeviceGen</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nc">App</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nc">SpinalVerilog</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="nc">UsbDeviceTop</span><span class="p">())</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="uart.html" class="btn btn-neutral float-left" title="串口" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="usb_ohci.html" class="btn btn-neutral float-right" title="USB OHCI" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2018 - 2024, SpinalHDL.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
  
     
    <!-- source/_templates/footer.html -->


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>